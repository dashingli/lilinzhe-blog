import{_ as n,X as s,Y as a,Z as e}from"./framework-b3714b73.js";const t={},o=e(`<h1 id="demo-医疗后台系统文档" tabindex="-1"><a class="header-anchor" href="#demo-医疗后台系统文档" aria-hidden="true">#</a> Demo 医疗后台系统文档</h1><h2 id="技术" tabindex="-1"><a class="header-anchor" href="#技术" aria-hidden="true">#</a> 技术:</h2><h5 id="前端" tabindex="-1"><a class="header-anchor" href="#前端" aria-hidden="true">#</a> 前端:</h5><p>Vue.js+Vue-Router+ElementUI+Axios</p><h5 id="后端" tabindex="-1"><a class="header-anchor" href="#后端" aria-hidden="true">#</a> 后端:</h5><p>Python+Django+gunicorn+Nginx+MySQL</p><h5 id="自动化测试" tabindex="-1"><a class="header-anchor" href="#自动化测试" aria-hidden="true">#</a> 自动化测试:</h5><p>Python+Pytest</p><hr><h2 id="数据库可视化" tabindex="-1"><a class="header-anchor" href="#数据库可视化" aria-hidden="true">#</a> 数据库可视化:</h2><figure><img src="https://cdn.jsdelivr.net/gh/dashingli/imageSave@main/img/CleanShot 2023-05-06 at 12.25.21@2x.png" alt="CleanShot 2023-05-06 at 12.25.21@2x" tabindex="0" loading="lazy"><figcaption>CleanShot 2023-05-06 at 12.25.21@2x</figcaption></figure><h5 id="auth-user-表" tabindex="-1"><a class="header-anchor" href="#auth-user-表" aria-hidden="true">#</a> auth_user 表</h5><p>用户表(Django 自带应用的数据库表)</p><h5 id="userinfo-表" tabindex="-1"><a class="header-anchor" href="#userinfo-表" aria-hidden="true">#</a> userinfo 表</h5><p>用户信息表:作为<code>auth_user</code> 的子表,用来存储用户额外信息</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>create table common_userinfo
(
    id        bigint auto_increment
        primary key,
    birthdate varchar(50)  null,
    bio       varchar(200) null,
    nickname  varchar(10)  null,
    user_id   int          not null,
    constraint user_id
        unique (user_id),
    constraint common_userinfo_user_id_f817efac_fk_auth_user_id
        foreign key (user_id) references auth_user (id)
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="customer-表" tabindex="-1"><a class="header-anchor" href="#customer-表" aria-hidden="true">#</a> customer 表</h5><p>存储客户信息</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>create table common_customer
(
    id          bigint auto_increment
        primary key,
    name        varchar(30)  not null,
    phoneNumber varchar(11)  not null,
    address     varchar(100) not null
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="medicine-表" tabindex="-1"><a class="header-anchor" href="#medicine-表" aria-hidden="true">#</a> medicine 表</h5><p>存储药品信息</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>create table common_medicine
(
    id     bigint auto_increment
        primary key,
    name   varchar(50)  not null,
    \`desc\` varchar(200) not null,
    sn     varchar(50)  not null
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="order-表" tabindex="-1"><a class="header-anchor" href="#order-表" aria-hidden="true">#</a> order 表</h5><p>存储订单信息:</p><p>1.order 表与 customer 表为 <strong>多对一关系</strong>:一个用户可对应多个订单 ,一个订单只能对应一个用户</p><p>2.order 表与 medicine 表为 <strong>多对多关系</strong>:一个药品可对应多个订单,一个订单可对应多个药品,所以需要使用一个纽带表(桥接表)<code>medicinesorder</code></p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>create table common_order
(
    id          bigint auto_increment
        primary key,
    name        varchar(200) not null,
    datetime    datetime(6)  not null,
    customer_id bigint       not null,
    constraint common_order_customer_id_8f4f8b04_fk_common_customer_id
        foreign key (customer_id) references common_customer (id)
);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="medicinesorder-表" tabindex="-1"><a class="header-anchor" href="#medicinesorder-表" aria-hidden="true">#</a> medicinesorder 表</h5><p>纽带表,存储订单 id,药品 id,药物数量</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>create table common_medicinesorder
(
    id           bigint auto_increment
        primary key,
    amount       int unsigned not null,
    medicines_id bigint       not null,
    order_id     bigint       not null,
    constraint common_medicinesorde_medicines_id_031c130d_fk_common_me
        foreign key (medicines_id) references common_medicine (id),
    constraint common_medicinesorder_order_id_04a43784_fk_common_order_id
        foreign key (order_id) references common_order (id),
    check (\`amount\` &gt;= 0)
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="接口文档" tabindex="-1"><a class="header-anchor" href="#接口文档" aria-hidden="true">#</a> 接口文档</h2><h5 id="说明" tabindex="-1"><a class="header-anchor" href="#说明" aria-hidden="true">#</a> 说明</h5><p><strong>为了书写文档方便,json 中<code>#</code>代表注释符号(使用时请删除<code>#</code>号,json 中没有注释)</strong></p><h3 id="登录相关" tabindex="-1"><a class="header-anchor" href="#登录相关" aria-hidden="true">#</a> 登录相关</h3><h4 id="登录" tabindex="-1"><a class="header-anchor" href="#登录" aria-hidden="true">#</a> 登录</h4><h5 id="请求头" tabindex="-1"><a class="header-anchor" href="#请求头" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST  /api/mgr/signin  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/x-www-form-urlencoded</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求参数" tabindex="-1"><a class="header-anchor" href="#请求参数" aria-hidden="true">#</a> 请求参数</h5><ul><li>username</li><li>password</li></ul><h5 id="响应头" tabindex="-1"><a class="header-anchor" href="#响应头" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体" tabindex="-1"><a class="header-anchor" href="#响应体" aria-hidden="true">#</a> 响应体</h5><h6 id="成功" tabindex="-1"><a class="header-anchor" href="#成功" aria-hidden="true">#</a> 成功</h6><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;登录成功&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h6 id="失败" tabindex="-1"><a class="header-anchor" href="#失败" aria-hidden="true">#</a> 失败</h6><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请使用管理员账户登录&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;账户无权限登录&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误的用户名或密码&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h4 id="退出登录" tabindex="-1"><a class="header-anchor" href="#退出登录" aria-hidden="true">#</a> 退出登录</h4><h5 id="异常情况" tabindex="-1"><a class="header-anchor" href="#异常情况" aria-hidden="true">#</a> <em>异常情况</em></h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">302</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请先登录&quot;</span><span class="token punctuation">}</span> #未登录情况 status=<span class="token number">302</span>重定向
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;不支持的action&quot;</span><span class="token punctuation">}</span> #action类型错误
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="请求头-1" tabindex="-1"><a class="header-anchor" href="#请求头-1" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/api/mgr/signout</span> <span class="token http-version property">HTTP/1.1</span></span>
<span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">[携带sessionid]</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-1" tabindex="-1"><a class="header-anchor" href="#响应头-1" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-1" tabindex="-1"><a class="header-anchor" href="#响应体-1" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;登出成功&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h3 id="客户" tabindex="-1"><a class="header-anchor" href="#客户" aria-hidden="true">#</a> 客户</h3><h4 id="列出客户" tabindex="-1"><a class="header-anchor" href="#列出客户" aria-hidden="true">#</a> 列出客户</h4><h5 id="请求头-2" tabindex="-1"><a class="header-anchor" href="#请求头-2" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET  /api/mgr/customers  HTTP/1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="请求参数-1" tabindex="-1"><a class="header-anchor" href="#请求参数-1" aria-hidden="true">#</a> 请求参数</h5><ul><li><code>action</code> :值为<code>list_customer</code></li><li><code>pagesize</code> : 每页多少条记录</li><li><code>pagenum</code>:要获取第几页信息</li></ul><h5 id="响应头-2" tabindex="-1"><a class="header-anchor" href="#响应头-2" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应内容" tabindex="-1"><a class="header-anchor" href="#响应内容" aria-hidden="true">#</a> 响应内容</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token property">&quot;retlist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span> #当页信息列表
   <span class="token punctuation">{</span>
     <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
     <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;上海市嘉定区&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;李小哲&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;phonenumber&quot;</span><span class="token operator">:</span><span class="token string">&quot;12345678911&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
     <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
     <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;上海市静安区&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;phonenumber&quot;</span><span class="token operator">:</span><span class="token string">&quot;12345678922&quot;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">]</span> <span class="token punctuation">,</span>
 <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span>  #所有用户
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请填写pagenum&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请填写pagesize&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h4 id="添加客户" tabindex="-1"><a class="header-anchor" href="#添加客户" aria-hidden="true">#</a> 添加客户</h4><h5 id="请求头-3" tabindex="-1"><a class="header-anchor" href="#请求头-3" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST  /api/mgr/customers  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体" tabindex="-1"><a class="header-anchor" href="#请求体" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;add_customer&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> #参数由前端校验
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;上海市xx医院&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;phonenumber&quot;</span><span class="token operator">:</span><span class="token string">&quot;12345678900&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;上海市xx路xx街&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应消息" tabindex="-1"><a class="header-anchor" href="#响应消息" aria-hidden="true">#</a> 响应消息</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-2" tabindex="-1"><a class="header-anchor" href="#响应体-2" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h4 id="修改客户" tabindex="-1"><a class="header-anchor" href="#修改客户" aria-hidden="true">#</a> 修改客户</h4><h5 id="请求头-4" tabindex="-1"><a class="header-anchor" href="#请求头-4" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>PUT  /api/mgr/customers  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-1" tabindex="-1"><a class="header-anchor" href="#请求体-1" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;modify_customer&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> #客户id
    <span class="token property">&quot;newdata&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> #要修改的信息
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;上海市xx医院&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;phonenumber&quot;</span><span class="token operator">:</span><span class="token string">&quot;13345678888&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;上海市xx街xx路&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-3" tabindex="-1"><a class="header-anchor" href="#响应头-3" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-3" tabindex="-1"><a class="header-anchor" href="#响应体-3" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id:6不存在&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h4 id="删除客户" tabindex="-1"><a class="header-anchor" href="#删除客户" aria-hidden="true">#</a> 删除客户</h4><h5 id="请求头-5" tabindex="-1"><a class="header-anchor" href="#请求头-5" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>DELETE  /api/mgr/customers  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-2" tabindex="-1"><a class="header-anchor" href="#请求体-2" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;del_customer&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="响应头-4" tabindex="-1"><a class="header-anchor" href="#响应头-4" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-4" tabindex="-1"><a class="header-anchor" href="#响应体-4" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;订单中引用了这条数据,禁止删除&quot;</span><span class="token punctuation">}</span> #订单列表里有该用户的订单<span class="token punctuation">,</span>无法删除
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id:6不存在&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h3 id="药品" tabindex="-1"><a class="header-anchor" href="#药品" aria-hidden="true">#</a> 药品</h3><h4 id="异常情况-1" tabindex="-1"><a class="header-anchor" href="#异常情况-1" aria-hidden="true">#</a> 异常情况</h4><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">302</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请先登录&quot;</span><span class="token punctuation">}</span> #未登录 status=<span class="token number">302</span> 重定向到登录页
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未传action类型&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误的action类型&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="列出药品" tabindex="-1"><a class="header-anchor" href="#列出药品" aria-hidden="true">#</a> 列出药品</h4><h5 id="请求头-6" tabindex="-1"><a class="header-anchor" href="#请求头-6" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET  /api/mgr/medicines  HTTP/1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="请求参数-2" tabindex="-1"><a class="header-anchor" href="#请求参数-2" aria-hidden="true">#</a> 请求参数</h5><ul><li><code>action</code> : <code>list_medicine</code> (固定值)</li><li><code>pagesize</code> : 每页获取多少条记录</li><li><code>pagenum</code>:获取第几页记录</li></ul><h5 id="响应头-5" tabindex="-1"><a class="header-anchor" href="#响应头-5" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-5" tabindex="-1"><a class="header-anchor" href="#响应体-5" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;retlist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span> #当页药品列表
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xx药&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sn&quot;</span><span class="token operator">:</span><span class="token string">&quot;213123123&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;疗效是....&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xx药2&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sn&quot;</span><span class="token operator">:</span><span class="token string">&quot;2131231333&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span><span class="token string">&quot;疗效是....2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span> #总共药品数
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请填写pagenum&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请填写pagesize&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="添加药品" tabindex="-1"><a class="header-anchor" href="#添加药品" aria-hidden="true">#</a> 添加药品</h4><h5 id="请求头-7" tabindex="-1"><a class="header-anchor" href="#请求头-7" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST  /api/mgr/medicines  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-3" tabindex="-1"><a class="header-anchor" href="#请求体-3" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;add_medicine&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xx药&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;疗效是...&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234567788&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-6" tabindex="-1"><a class="header-anchor" href="#响应头-6" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-6" tabindex="-1"><a class="header-anchor" href="#响应体-6" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;药品名已存在&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请求体参数中需要填入data&quot;</span><span class="token punctuation">}</span> #未填data status=<span class="token number">400</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="修改药品" tabindex="-1"><a class="header-anchor" href="#修改药品" aria-hidden="true">#</a> 修改药品</h4><h5 id="请求头-8" tabindex="-1"><a class="header-anchor" href="#请求头-8" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>PUT  /api/mgr/medicines  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-4" tabindex="-1"><a class="header-anchor" href="#请求体-4" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;modify_medicine&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> #药品id
    <span class="token property">&quot;newdata&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xx药&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;desc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;疗效是....&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456777&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-7" tabindex="-1"><a class="header-anchor" href="#响应头-7" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-7" tabindex="-1"><a class="header-anchor" href="#响应体-7" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;修改成功&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入修改的id值&quot;</span><span class="token punctuation">}</span> #未传id值
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入newdata&quot;</span><span class="token punctuation">}</span> #未传newdata字段
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;无此id的药品&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请填入相应的修改药品数据&quot;</span><span class="token punctuation">}</span> #name/desc/sn 有一个或多个字段未填写
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="删除药品" tabindex="-1"><a class="header-anchor" href="#删除药品" aria-hidden="true">#</a> 删除药品</h4><h5 id="请求头-9" tabindex="-1"><a class="header-anchor" href="#请求头-9" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>DELETE  /api/mgr/medicines  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-5" tabindex="-1"><a class="header-anchor" href="#请求体-5" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;del_medicine&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span> #药品id
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-8" tabindex="-1"><a class="header-anchor" href="#响应头-8" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;删除成功&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入删除的id值&quot;</span><span class="token punctuation">}</span> #未传药品id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;无此id,无法删除&quot;</span><span class="token punctuation">}</span> #无效药品id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;订单中正在使用该商品,无法删除&quot;</span><span class="token punctuation">}</span> #订单列表里有该药品的订单<span class="token punctuation">,</span>无法删除
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="订单" tabindex="-1"><a class="header-anchor" href="#订单" aria-hidden="true">#</a> 订单</h3><h4 id="异常情况-2" tabindex="-1"><a class="header-anchor" href="#异常情况-2" aria-hidden="true">#</a> 异常情况</h4><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">302</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请先登录&quot;</span><span class="token punctuation">}</span> #status=<span class="token number">302</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未传action类型&quot;</span><span class="token punctuation">}</span> #status=<span class="token number">400</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误的action类型&quot;</span><span class="token punctuation">}</span> #status=<span class="token number">400</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误的action类型或错误的请求类型&quot;</span><span class="token punctuation">}</span> #status=<span class="token number">400</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="列出订单" tabindex="-1"><a class="header-anchor" href="#列出订单" aria-hidden="true">#</a> 列出订单</h4><h5 id="请求头-10" tabindex="-1"><a class="header-anchor" href="#请求头-10" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET  /api/mgr/orders  HTTP/1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="请求参数-3" tabindex="-1"><a class="header-anchor" href="#请求参数-3" aria-hidden="true">#</a> 请求参数</h5><ul><li><code>action</code> : <code>list_order</code> (必填项)</li><li><code>pagesize</code>:一页获取多少条记录</li><li><code>pagenum</code>:获取第几页信息</li></ul><h5 id="响应头-9" tabindex="-1"><a class="header-anchor" href="#响应头-9" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-8" tabindex="-1"><a class="header-anchor" href="#响应体-8" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;retlist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> #订单列表
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> #订单id
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xx医院订单&quot;</span><span class="token punctuation">,</span> #订单名
      <span class="token property">&quot;create_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-01-22&quot;</span><span class="token punctuation">,</span> #订单创建日期
      <span class="token property">&quot;customer_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;李小哲&quot;</span><span class="token punctuation">,</span> #订单所属客户
      <span class="token property">&quot;customerid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  #客户id
      <span class="token property">&quot;medicinelist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span> #订单药品列表
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>  #药品id
          <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>  #药品数量
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxx药&quot;</span> #药品名称
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
          <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxx药2&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span> #订单总数
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;缺少pagenum或pagesize字段&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="添加订单" tabindex="-1"><a class="header-anchor" href="#添加订单" aria-hidden="true">#</a> 添加订单</h4><h5 id="请求头-11" tabindex="-1"><a class="header-anchor" href="#请求头-11" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>POST  /api/mgr/orders  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-6" tabindex="-1"><a class="header-anchor" href="#请求体-6" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;add_order&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxx医院订单&quot;</span><span class="token punctuation">,</span> #订单名
        <span class="token property">&quot;customerid&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> #客户id
        <span class="token property">&quot;medicinelist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>#订单药品列表
            <span class="token punctuation">{</span>
              <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>#药品id
              <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>#药品数量
              <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxx药&quot;</span>#药品名称
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
              <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
              <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxx药2&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-10" tabindex="-1"><a class="header-anchor" href="#响应头-10" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-9" tabindex="-1"><a class="header-anchor" href="#响应体-9" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入data或传入正确格式的data&quot;</span><span class="token punctuation">}</span> #未传入data或字段错误
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入customerid&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入订单名称&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入medicinelist&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="修改订单" tabindex="-1"><a class="header-anchor" href="#修改订单" aria-hidden="true">#</a> 修改订单</h4><h5 id="请求头-12" tabindex="-1"><a class="header-anchor" href="#请求头-12" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>PUT  /api/mgr/orders  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-7" tabindex="-1"><a class="header-anchor" href="#请求体-7" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;modify_order&quot;</span><span class="token punctuation">,</span>#固定字段
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span> #修改订单id号
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;修改后订单&quot;</span><span class="token punctuation">,</span> #修改订单名
        <span class="token property">&quot;customerid&quot;</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span> #客户id
        <span class="token property">&quot;medicinelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> #列表<span class="token operator">:</span>修改的药品和增加的药品
            <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> #药品id
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>#药品数量
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xx药&quot;</span>#药品名
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xx药2&quot;</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token property">&quot;deletelist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> #订单里 删除药品列表<span class="token punctuation">,</span>列表里每一项为要删除药品的id
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-11" tabindex="-1"><a class="header-anchor" href="#响应头-11" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-10" tabindex="-1"><a class="header-anchor" href="#响应体-10" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入正确的id值&quot;</span><span class="token punctuation">}</span> # status=<span class="token number">400</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请传入正确的data&quot;</span><span class="token punctuation">}</span> # status=<span class="token number">400</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="删除订单" tabindex="-1"><a class="header-anchor" href="#删除订单" aria-hidden="true">#</a> 删除订单</h4><h5 id="请求头-13" tabindex="-1"><a class="header-anchor" href="#请求头-13" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>DELETE  /api/mgr/orders  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-8" tabindex="-1"><a class="header-anchor" href="#请求体-8" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;del_order&quot;</span><span class="token punctuation">,</span>#固定字段
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span> #订单id
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-12" tabindex="-1"><a class="header-anchor" href="#响应头-12" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-11" tabindex="-1"><a class="header-anchor" href="#响应体-11" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;缺少订单id&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="个人信息" tabindex="-1"><a class="header-anchor" href="#个人信息" aria-hidden="true">#</a> 个人信息</h3><h4 id="异常情况-3" tabindex="-1"><a class="header-anchor" href="#异常情况-3" aria-hidden="true">#</a> 异常情况</h4><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">302</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请先登录&quot;</span><span class="token punctuation">}</span> #status=<span class="token number">302</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;未传action类型&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;错误的action类型&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="获取个人信息" tabindex="-1"><a class="header-anchor" href="#获取个人信息" aria-hidden="true">#</a> 获取个人信息</h4><h5 id="请求头-14" tabindex="-1"><a class="header-anchor" href="#请求头-14" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>GET  /api/mgr/profile  HTTP/1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="请求参数-4" tabindex="-1"><a class="header-anchor" href="#请求参数-4" aria-hidden="true">#</a> 请求参数</h5><ul><li><code>action</code>:<code>get_my_profile</code> (必填)</li></ul><h5 id="响应头-13" tabindex="-1"><a class="header-anchor" href="#响应头-13" aria-hidden="true">#</a> 响应头</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>HTTP/<span class="token number">1.1</span> <span class="token number">200</span> OK
Content-Type<span class="token operator">:</span> application/json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-12" tabindex="-1"><a class="header-anchor" href="#响应体-12" aria-hidden="true">#</a> 响应体</h5><ul><li><h6 id="用户首次登录" tabindex="-1"><a class="header-anchor" href="#用户首次登录" aria-hidden="true">#</a> 用户首次登录</h6><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
 	<span class="token property">&quot;profile&quot;</span><span class="token operator">:</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>  #用户名
    <span class="token property">&quot;birthdate&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> #用户出生日期
    <span class="token property">&quot;bio&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span> #用户简介
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h6 id="用户修改过信息" tabindex="-1"><a class="header-anchor" href="#用户修改过信息" aria-hidden="true">#</a> 用户修改过信息</h6><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;修改过的用户名&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;birthdate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;修改过的生日&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;修改过的用户简介&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="修改个人信息" tabindex="-1"><a class="header-anchor" href="#修改个人信息" aria-hidden="true">#</a> 修改个人信息</h4><h5 id="请求头-15" tabindex="-1"><a class="header-anchor" href="#请求头-15" aria-hidden="true">#</a> 请求头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code>PUT  /api/mgr/profile  HTTP/1.1
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span>   <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="请求体-9" tabindex="-1"><a class="header-anchor" href="#请求体-9" aria-hidden="true">#</a> 请求体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span><span class="token string">&quot;modify_my_profile&quot;</span><span class="token punctuation">,</span> #固定字段
    <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> #修改信息
        <span class="token property">&quot;nickname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;李小哲&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;birthdate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1996-01-01&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;bio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;个人描述&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应头-14" tabindex="-1"><a class="header-anchor" href="#响应头-14" aria-hidden="true">#</a> 响应头</h5><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/json</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="响应体-13" tabindex="-1"><a class="header-anchor" href="#响应体-13" aria-hidden="true">#</a> 响应体</h5><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span> #成功
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;ret&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;没有传入profile&quot;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,232),p=[o];function i(r,l){return s(),a("div",null,p)}const d=n(t,[["render",i],["__file","Demo医疗后台系统文档.html.vue"]]);export{d as default};
